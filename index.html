
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>유미, 진훈 결혼합니다!</title>

  <!-- 폰트 -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Asta+Sans:wght@300..800&family=Nanum+Gothic&family=Nanum+Myeongjo&family=Noto+Sans+KR:wght@100..900&family=Noto+Sans:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">

  <!-- style.css: 중복 링크 제거 → 한 번만 -->
  <link rel="stylesheet" href="style.css" />

  <!-- (선택) 페이지 내부 보조 스타일: 필요하면 style.css로 옮겨도 됨 -->
  <style>
    /* 상단 고정 배너 */
    .top-banner{
      position: fixed;
      top: 0; left: 0;
      width: 100%;
      z-index: 1000;
      /* 필요하면 배경색 지정 */
      /* background-color: #fff; */
    }
    .top-banner img{ max-width:100%; height:auto; display:block; margin:0 auto; }

    /* 본문이 배너에 가리지 않도록 */

    @media (max-width: 600px){
      h1{ font-size: 1.5em; }
      p{ font-size: 1em; }
    }
    @media (min-width: 601px) and (max-width: 1024px){
      h1{ font-size: 1.8em; }
      p{ font-size: 1.1em; }
    }
    @media (min-width: 1025px){
      .container{
        max-width: 1000px;  /* PC에서 1000px 제한 */
        padding: 30px;
      }
    }
  </style>
</head>
<body>
  <!-- 팝업 -->
  <div class="popup-overlay" id="popup">
    <div class="popup">
      <button class="popup-close" onclick="closePopup()" aria-label="닫기">
        <span> click !</span>
      </button>
      <img src="images/ex2.png" alt="공지 이미지" />
      <p></p>
    </div>
  </div>


    

  <main class="content">
    <!-- ✅ 사이드바 삭제됨 -->

    <!-- 불규칙 사진 -->
    <div class="photos">
      <img src="images/sprinkle.png" class="photo p0" alt="">
      <img src="images/1.jpeg" class="photo p1" alt="">
      <img src="images/2.jpg"  class="photo p2" alt="">
      <img src="images/8.jpg"  class="photo p3" alt="">
      <img src="images/3.jpeg" class="photo p4" alt="">
      <img src="images/4.jpeg" class="photo p5" alt="">
      <img src="images/5.jpg"  class="photo p6" alt="">
      <img src="images/6.jpg"  class="photo p7" alt="">
      <img src="images/7.jpg"  class="photo p8" alt="">
      <img src="images/7ss.jpeg"  class="photo p9" alt="">
       <img src="images/bird1.png" class="photo p10" alt="">
    </div>
 
 <!-- 청첩장 내용 png -->
    <img src="images/message.png" class="invite-img" alt="청첩장 내용">
    
 
    <!-- 캐러셀 -->
<section class="carousel-wrap">
  <div class="carousel" id="carousel">
    <figure class="slide"><img src="images/1s.jpg" alt="우리 사진 1" loading="lazy"></figure>
    <figure class="slide"><img src="images/2s.jpg" alt="우리 사진 2" loading="lazy"></figure>
    <figure class="slide"><img src="images/3s.jpg" alt="우리 사진 3" loading="lazy"></figure>
    <figure class="slide"><img src="images/4s.JPG" alt="우리 사진 4" loading="lazy"></figure>
    <figure class="slide"><img src="images/5s.jpg" alt="우리 사진 5" loading="lazy"></figure>
    <figure class="slide"><img src="images/18s.jpg" alt="우리 사진 6" loading="lazy"></figure>
    <figure class="slide"><img src="images/10s.jpg" alt="우리 사진 7" loading="lazy"></figure>
    <figure class="slide"><img src="images/17s.jpeg" alt="우리 사진 8" loading="lazy"></figure>
    <figure class="slide"><img src="images/12s.jpeg" alt="우리 사진 9" loading="lazy"></figure>
    <figure class="slide"><img src="images/9ss.jpeg" alt="우리 사진 10" loading="lazy"></figure>
  </div>

  <!-- 양 옆 검정 점 -->
 </section>

<div class="controls">
  <div class="dots" id="dots" aria-label="사진 선택"></div>

  <div class="nav" aria-label="사진 이동">
    <button class="prev" type="button" aria-label="이전">←</button>
    <button class="next" type="button" aria-label="다음">→</button>
  </div>
</div>



    <!-- 연락하기 -->
    <section class="contact-section">
      <div class="contact-box">
        <button id="openContact" class="contact-cta" type="button">연락하기</button>
      </div>
    </section>

    <!-- 연락처 바텀시트 -->
    <div id="contactSheet" class="sheet" aria-hidden="true">
      <div class="sheet-backdrop" data-close></div>
      <div class="sheet-panel" role="dialog" aria-modal="true" aria-labelledby="sheetTitle">
        <div class="sheet-header">
          <h3 id="sheetTitle">연락하기</h3>
          <button class="sheet-close" aria-label="닫기" data-close type="button">✕</button>
        </div>
        <div class="sheet-body">
          <!-- 신랑측 -->
          <div class="group">
            <div class="group-title">신랑측</div>
            <div class="row">
              <div class="who">
                <div class="role">신랑</div>
                <div class="name">박진훈</div>
              </div>
              <div class="acts">
                <a href="tel:01030032464" aria-label="박진훈 전화"><img src="images/call.svg" alt="전화"></a>
                <a href="sms:01030032464" aria-label="박진훈 문자"><img src="images/mail.svg" alt="문자"></a>
              </div>
            </div>
            <div class="row">
              <div class="who">
                <div class="role">신랑 아버지</div>
                <div class="name">박현관</div>
              </div>
              <div class="acts">
                <a href="tel:01051912281" aria-label="아버지 전화"><img src="images/call.svg" alt="전화"></a>
                <a href="sms:01051912281" aria-label="아버지 문자"><img src="images/mail.svg" alt="문자"></a>
              </div>
            </div>
            <div class="row">
              <div class="who">
                <div class="role">신랑 어머니</div>
                <div class="name">김영숙</div>
              </div>
              <div class="acts">
                <a href="tel:01030772464" aria-label="어머니 전화"><img src="images/call.svg" alt="전화"></a>
                <a href="sms:01030772464" aria-label="어머니 문자"><img src="images/mail.svg" alt="문자"></a>
              </div>
            </div>
          </div>

          <!-- 신부측 -->
          <div class="group">
            <div class="group-title">신부측</div>
            <div class="row">
              <div class="who">
                <div class="role">신부</div>
                <div class="name">이유미</div>
              </div>
              <div class="acts">
                <a href="tel:01073277009" aria-label="이유미 전화"><img src="images/call.svg" alt="전화"></a>
                <a href="sms:01073277009" aria-label="이유미 문자"><img src="images/mail.svg" alt="문자"></a>
              </div>
            </div>
            <div class="row">
              <div class="who">
                <div class="role">신부 아버지</div>
                <div class="name">이재준</div>
              </div>
              <div class="acts">
                <a href="tel:01044727009" aria-label="이재준 전화"><img src="images/call.svg" alt="전화"></a>
                <a href="sms:01044727009" aria-label="이재준 문자"><img src="images/mail.svg" alt="문자"></a>
              </div>
            </div>
            <div class="row">
              <div class="who">
                <div class="role">신부 어머니</div>
                <div class="name">김윤정</div>
              </div>
              <div class="acts">
                <a href="tel:01053593517" aria-label="김윤정 전화"><img src="images/call.svg" alt="전화"></a>
                <a href="sms:01053593517" aria-label="김윤정 문자"><img src="images/mail.svg" alt="문자"></a>
              </div>
            </div>
          </div>
        </div><!-- /sheet-body -->
      </div><!-- /sheet-panel -->
    </div><!-- /sheet -->

    <!-- 마음 전달하기 -->
<section class="account-section">
  <div class="account-box">
    <button id="openAccount" class="contact-cta" type="button">마음 전달하기</button>
  </div>
</section>

<!-- 계좌 시트 -->
<div class="sheet" id="accountSheet" aria-hidden="true">
  <div class="sheet-backdrop"></div>
  <div class="sheet-panel">
    <div class="sheet-header">
      <h3>마음을 전하는 곳</h3>
      <button class="sheet-close" aria-label="닫기">&times;</button>
    </div>

    <div class="sheet-body">

      <!-- 신랑측 -->
      <div class="group">
        <div class="group-title">신랑측</div>

        <div class="row">
          <div class="who">
            <div class="name">박진훈</div>
            <div class="role">카카오뱅크 3333364729765</div>
          </div>
          <button class="copy-btn" onclick="copyAccount('3333364729765')">복사</button>
        </div>

        <div class="row">
          <div class="who">
            <div class="name">박현관</div>
            <div class="role">하나은행 20589058001607</div>
          </div>
          <button class="copy-btn" onclick="copyAccount('20589058001607')">복사</button>
        </div>

        <div class="row">
          <div class="who">
            <div class="name">김영숙</div>
            <div class="role">농협은행 17717956018011</div>
          </div>
          <button class="copy-btn" onclick="copyAccount('17717956018011')">복사</button>
        </div>
      </div>  <!-- ✅ 신랑측 group 닫힘 -->

      <!-- 신부측 -->
      <div class="group">
        <div class="group-title">신부측</div>

        <div class="row">
          <div class="who">
            <div class="name">이유미</div>
            <div class="role">농협은행 3021908041661</div>
          </div>
          <button class="copy-btn" onclick="copyAccount('3021908041661')">복사</button>
        </div>

        <div class="row">
          <div class="who">
            <div class="name">이재준</div>
            <div class="role">농협은행 721026 52 129671</div>
          </div>
          <button class="copy-btn" onclick="copyAccount('72102652129671')">복사</button>
        </div>

        <div class="row">
          <div class="who">
            <div class="name">김윤정</div>
            <div class="role">농협은행 721026 51 087433</div>
          </div>
          <button class="copy-btn" onclick="copyAccount('72102651087433')">복사</button>
        </div>
      </div>

    </div>
  </div>
</div>


    <!-- 지도 -->
    <section class="map">
      <section id="map" class="location">
        <h3>오시는 길</h3>
        <div class="map-wrap">
          <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d10871.294080997917!2d129.269011394831!3d35.8509035196251!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3566527d226d34e1%3A0x99f295bc28f151b1!2z65287ZWc7IWA66CJ7Yq4IOqyveyjvA!5e0!3m2!1sko!2skr!4v1760084782795!5m2!1sko!2skr" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
        </div>
      </section>

      <p class="addr">
        경북 경주시 보문로 338<br />
        라한셀렉트 호텔 다이너스티홀 (지하2층)<br />
        2026년 4월 18일<br />
        오후 12시 30분<br />
      </p>

      <div class="map-buttons">
        <a id="btnKakao" class="btn kakao" href="https://map.kakao.com/link/map/라한셀렉트경주,35.8503198,129.2770225" target="_blank">카카오맵</a>
        <a id="btnNaver" class="btn naver" href="https://map.naver.com/v5/search/라한셀렉트%20경주?c=129.2770225,35.8503198,15,0,0,0,dh" target="_blank">네이버지도</a>
      </div>
    </section>

    <!-- 음악 -->
    <audio id="bgm" preload="auto" loop playsinline>
      <source src="bgm/Uu.mp3" type="audio/mpeg" />
      당신의 브라우저는 오디오 태그를 지원하지 않습니다.
    </audio>

    <button id="musicToggle" class="music-btn" aria-label="음악 켜기" aria-pressed="false">
      <img src="images/off.svg" alt="음악 꺼짐" class="icon-off" />
      <img src="images/on.svg"  alt="음악 켜짐" class="icon-on" />
    </button>
  </main>

  <!-- 스크립트들 -->
  <script>
    function closePopup(){ document.getElementById('popup').style.display='none'; }
  </script>

<script>
(() => {
  const carousel = document.getElementById("carousel");
  const slides   = Array.from(carousel?.querySelectorAll(".slide") || []);
  const prevBtn  = document.querySelector(".controls .nav .prev");
  const nextBtn  = document.querySelector(".controls .nav .next");
  const dotsWrap = document.getElementById("dots");

  if (!carousel || slides.length === 0 || !prevBtn || !nextBtn || !dotsWrap) return;

  // ✅ 상태값으로 인덱스를 관리 (scrollLeft로 매번 계산하지 않음)
  let current = 0;
  let isProgrammatic = false;
  let unlockTimer = 0;

  const clamp = (n, min, max) => Math.max(min, Math.min(max, n));

  function scrollToIndex(idx, behavior = "smooth") {
    current = clamp(idx, 0, slides.length - 1);

    // ✅ slide의 실제 위치로 이동 (clientWidth 계산 오차 제거)
    const left = slides[current].offsetLeft;

    isProgrammatic = true;
    clearTimeout(unlockTimer);

    carousel.scrollTo({ left, behavior });
    setActiveDot(current);

    // ✅ iOS에서 smooth가 끝나는 시간이 들쭉날쭉이라 조금 여유있게
    unlockTimer = setTimeout(() => {
      isProgrammatic = false;
    }, 520);
  }

  // ✅ dots 생성
  dotsWrap.innerHTML = "";
  const dots = slides.map((_, i) => {
    const b = document.createElement("button");
    b.className = "dot";
    b.type = "button";
    b.setAttribute("aria-label", `${i + 1}번 사진`);
    b.addEventListener("click", () => scrollToIndex(i, "smooth"));
    dotsWrap.appendChild(b);
    return b;
  });

  // ✅ scrollIntoView 금지(=페이지 점프 방지)
  // 대신 dotsWrap 내부 가로 스크롤만 수동으로 맞춤
  function centerDot(i) {
    const d = dots[i];
    if (!d) return;

    // dotsWrap이 overflow-x:auto일 때만 의미 있음
    const wrapRect = dotsWrap.getBoundingClientRect();
    const dotRect  = d.getBoundingClientRect();
    const delta = (dotRect.left + dotRect.width/2) - (wrapRect.left + wrapRect.width/2);

    // 가로만 이동
    dotsWrap.scrollLeft += delta;
  }

  function setActiveDot(i) {
    const safe = clamp(i, 0, dots.length - 1);
    dots.forEach((d, k) => {
      const on = k === safe;
      d.classList.toggle("is-active", on);
      d.setAttribute("aria-current", on ? "true" : "false");
    });

    // ✅ dotsWrap이 화면에 있을 때만 가로 centering (점프 방지)
    const rect = dotsWrap.getBoundingClientRect();
    const inView = rect.bottom > 0 && rect.top < window.innerHeight;
    if (inView) centerDot(safe);
  }

  // ✅ 사용자 스와이프 종료 후에만 current를 확정(디바운스)
  let settleTimer = 0;
  function settleIndex() {
    clearTimeout(settleTimer);
    settleTimer = setTimeout(() => {
      if (isProgrammatic) return;

      // 가장 가까운 slide로 current 확정
      let best = 0;
      let bestDist = Infinity;
      const x = carousel.scrollLeft;

      for (let i = 0; i < slides.length; i++) {
        const dist = Math.abs(slides[i].offsetLeft - x);
        if (dist < bestDist) {
          bestDist = dist;
          best = i;
        }
      }

      current = best;
      // 스냅 보정
      scrollToIndex(current, "smooth");
    }, 110);
  }

  carousel.addEventListener("scroll", () => {
    if (isProgrammatic) return;
    // 스크롤 중에는 dot만 업데이트(대충)
    // (계산을 offsetLeft 기반으로)
    let best = 0;
    let bestDist = Infinity;
    const x = carousel.scrollLeft;
    for (let i = 0; i < slides.length; i++) {
      const dist = Math.abs(slides[i].offsetLeft - x);
      if (dist < bestDist) { bestDist = dist; best = i; }
    }
    setActiveDot(best);
    settleIndex();
  }, { passive: true });

  // ✅ 버튼 연타 버벅 방지: programmatic 중엔 클릭 무시
  prevBtn.addEventListener("click", () => {
    if (isProgrammatic) return;
    scrollToIndex(current - 1, "smooth");
  });

  nextBtn.addEventListener("click", () => {
    if (isProgrammatic) return;
    scrollToIndex(current + 1, "smooth");
  });

  // ✅ iOS 주소창 숨김/표시로 resize 튀는 경우: “페이지 점프” 방지
  // 여기서 scrollIntoView가 없으니 점프가 거의 사라짐
  window.addEventListener("resize", () => {
    // 현재 인덱스 유지
    scrollToIndex(current, "auto");
  });

  // 초기
  scrollToIndex(0, "auto");
})();
</script>



<script>
(() => {
  const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
  if (!isMobile) return;

  const kakao = document.getElementById('btnKakao');
  const naver = document.getElementById('btnNaver');
  if (!kakao || !naver) return;

  // ✅ iOS에서 스킴 + _blank 충돌 방지
  kakao.removeAttribute('target');
  naver.removeAttribute('target');

  const kakaoApp = 'kakaomap://look?p=35.8503198,129.2770225';
  const kakaoWeb = 'https://map.kakao.com/link/map/라한셀렉트경주,35.8503198,129.2770225';

  const naverApp = 'nmap://place?lat=35.8503198&lng=129.2770225&name=' + encodeURIComponent('라한셀렉트경주');
  const naverWeb = 'https://map.naver.com/v5/search/' + encodeURIComponent('라한셀렉트 경주') +
                   '?c=129.2770225,35.8503198,15,0,0,0,dh';

  // 기본은 웹 링크 유지
  kakao.href = kakaoWeb;
  naver.href = naverWeb;

  const isIOS = /iPhone|iPad|iPod/i.test(navigator.userAgent);

  function openAppThenWeb(appUrl, webUrl) {
    // ✅ 폴백 타이머를 먼저 걸어둬야 iOS 에러페이지에 끊겨도 웹으로 갈 확률이 높음
    let fallback = setTimeout(() => {
      window.location.href = webUrl;
    }, 900);

    // 앱이 열려서 페이지가 백그라운드로 가면 폴백 취소
    const onHide = () => {
      clearTimeout(fallback);
      document.removeEventListener('visibilitychange', onHide);
    };
    document.addEventListener('visibilitychange', onHide);

    if (isIOS) {
      // ✅ iOS는 iframe으로 스킴 호출이 더 안정적
      const iframe = document.createElement('iframe');
      iframe.style.display = 'none';
      iframe.src = appUrl;
      document.body.appendChild(iframe);

      setTimeout(() => {
        document.body.removeChild(iframe);
      }, 1200);
    } else {
      // Android는 location 이동이 대체로 OK
      window.location.href = appUrl;
    }
  }

  kakao.addEventListener('click', (e) => {
    e.preventDefault();
    openAppThenWeb(kakaoApp, kakaoWeb);
  });

  naver.addEventListener('click', (e) => {
    e.preventDefault();
    openAppThenWeb(naverApp, naverWeb);
  });
})();
</script>



  <script>
  (function(){
    const openBtn = document.getElementById('openContact');
    const sheet = document.getElementById('contactSheet');
    const closes = sheet.querySelectorAll('[data-close]');

    const open = () => { sheet.setAttribute('aria-hidden','false'); document.body.classList.add('no-scroll'); };
    const close = () => { sheet.setAttribute('aria-hidden','true');  document.body.classList.remove('no-scroll'); };

    openBtn && openBtn.addEventListener('click', open);
    closes.forEach(el => el.addEventListener('click', close));

    document.addEventListener('keydown', (e)=>{
      if(e.key === 'Escape' && sheet.getAttribute('aria-hidden')==='false'){ close(); }
    });
  })();
  </script>

  <script>
  // 계좌 시트
  const accountBtn = document.getElementById('openAccount');
  const accountSheet = document.getElementById('accountSheet');

  accountBtn?.addEventListener('click', () => {
    accountSheet.setAttribute('aria-hidden', 'false');
    document.body.classList.add('no-scroll');
  });

  accountSheet?.addEventListener('click', (e) => {
    if (e.target.classList.contains('sheet-backdrop')) {
      accountSheet.setAttribute('aria-hidden', 'true');
      document.body.classList.remove('no-scroll');
    }
  });

  accountSheet.querySelectorAll('.sheet-close')
    .forEach(btn => btn.addEventListener('click', () => {
      accountSheet.setAttribute('aria-hidden', 'true');
      document.body.classList.remove('no-scroll');
    }));

  function copyAccount(text) {
    navigator.clipboard.writeText(text);
    alert(' 계좌번호가 복사되었습니다 ・・・');
  }
  </script>

<script>
(() => {
  const audio = document.getElementById('bgm');
  const btn   = document.getElementById('musicToggle');

  function render(on){
    btn.setAttribute('aria-pressed', on ? 'true' : 'false');
  }

  async function playBGM(){
    try { await audio.play(); render(true); }
    catch(e){ /* 자동재생 실패해도 아이콘은 ON 유지 */ render(true); }
  }

  function pauseBGM(){ audio.pause(); render(false); }

  btn.addEventListener('click', () => { if (audio.paused) playBGM(); else pauseBGM(); });

  let primed = false;
  const prime = () => {
    if (primed) return;
    primed = true;
    playBGM();
    window.removeEventListener('pointerdown', prime);
    window.removeEventListener('touchstart', prime);
    window.removeEventListener('keydown', prime);
    window.removeEventListener('scroll', prime);
  };

  // ✅ 외부에서 (팝업 닫기 등) 호출할 수 있게
  window.__primeBgm = prime;

  window.addEventListener('pointerdown', prime, { passive:true });
  window.addEventListener('touchstart', prime, { passive:true });
  window.addEventListener('keydown', prime);
  window.addEventListener('scroll', prime, { passive:true });

  let wasPlaying = false;
  document.addEventListener('visibilitychange', () => {
    if (document.hidden) {
      wasPlaying = !audio.paused;
      if (wasPlaying) pauseBGM();
    } else {
      if (wasPlaying) playBGM();
    }
  });

  render(true); // 아이콘 ON
})();
</script>

<script>
document.addEventListener("DOMContentLoaded", () => {

  /* =========================
     1) ✅ 스크롤 리빌 (p0, p10 제외)
  ========================= */
  const revealItems = document.querySelectorAll(".photos .photo:not(.p0):not(.p10)");

  revealItems.forEach((el, i) => {
    el.style.transitionDelay = `${i * 120}ms`;
  });

  const ioReveal = new IntersectionObserver((entries) => {
    entries.forEach((entry) => {
      if (entry.isIntersecting) {
        entry.target.classList.add("is-visible");
        ioReveal.unobserve(entry.target);
      }
    });
  }, { threshold: 0.12, rootMargin: "0px 0px -15% 0px" });

  revealItems.forEach(el => ioReveal.observe(el));


/* =========================
   2) ✅ p10 fade-out (p2 트리거 + 사용자 인터랙션 이후만)
========================= */
const p10 = document.querySelector(".photos .p10");
const trigger = document.querySelector(".photos .p2");
if (!p10 || !trigger) return;

let hasInteracted = false;

const applyIfTriggerVisible = () => {
  const r = trigger.getBoundingClientRect();
  const visible = r.top < window.innerHeight * 0.8 && r.bottom > window.innerHeight * 0.2;
  if (visible) p10.classList.add("is-fadeout");
};

const mark = () => {
  hasInteracted = true;
  applyIfTriggerVisible(); // ✅ 인터랙션 발생 순간 즉시 판정
};

["scroll","touchstart","pointerdown","wheel","keydown"].forEach(ev => {
  window.addEventListener(ev, mark, { once: true, passive: true });
});

const ioFade = new IntersectionObserver((entries) => {
  entries.forEach((entry) => {
    if (!hasInteracted) return;

    if (entry.isIntersecting) {
      p10.classList.add("is-fadeout");
    } else {
      // 다시 나타나게 하고 싶으면 유지, 싫으면 이 줄 삭제
      p10.classList.remove("is-fadeout");
    }
  });
}, { threshold: 0.2, rootMargin: "0px 0px -20% 0px" });

ioFade.observe(trigger);


});
</script>
<script>
(() => {


  const cursor = document.createElement('div');
  cursor.className = 'touch-cursor';
  document.body.appendChild(cursor);

  const move = (x, y) => {
    cursor.style.left = x + 'px';
    cursor.style.top  = y + 'px';
  };

  window.addEventListener('touchstart', (e) => {
    const t = e.touches[0];
    move(t.clientX, t.clientY);
    cursor.classList.add('is-active');
  }, { passive: true });

  window.addEventListener('touchmove', (e) => {
    const t = e.touches[0];
    move(t.clientX, t.clientY);
  }, { passive: true });

  window.addEventListener('touchend', () => {
    cursor.classList.remove('is-active');
  });

  window.addEventListener('touchcancel', () => {
    cursor.classList.remove('is-active');
  });
})();
</script>
<!-- ✅ 여기까지 -->
<script>
  // ✅ Safari/모바일에서 이전 스크롤 위치 복원 막기
  if ('scrollRestoration' in history) history.scrollRestoration = 'manual';

  // ✅ 최초 로딩 + bfcache(뒤로가기 캐시)에서도 무조건 맨 위
  function forceTop() {
    window.scrollTo(0, 0);
    document.documentElement.scrollTop = 0;
    document.body.scrollTop = 0;
  }

  window.addEventListener('DOMContentLoaded', forceTop);
  window.addEventListener('load', forceTop);
  window.addEventListener('pageshow', (e) => {
    // 뒤로가기/앞으로가기 복원(bfcache)일 때도 맨 위
    if (e.persisted) forceTop();
    else forceTop();
  });
</script>

</body>
</html>
